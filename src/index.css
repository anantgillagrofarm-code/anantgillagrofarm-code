/* src/index.css - full replacement */

/* Reset & base */
* { box-sizing: border-box; margin: 0; padding: 0; }
html, body, #root { height: 100%; font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial; color: #213; background-color: #f2f9f2; }

/* Theme vars */
:root {
  --accent: #2a7a2a;
  --card-bg: rgba(255,255,255,0.96);
  --muted: #6b7a6b;
}

/* Body background (public/bg-mushrooms.jpg) */
body {
  background-image:
    radial-gradient(1200px 400px at 10% 10%, rgba(0,0,0,0.04), transparent 20%),
    linear-gradient(180deg, rgba(240,252,240,0.86), rgba(238,247,238,0.90)),
    url('/bg-mushrooms.jpg');
  background-repeat: no-repeat, no-repeat, no-repeat;
  background-position: center top, center top, center bottom;
  background-size: cover, cover, cover;
  position: relative;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Prevent scrolling when overlays open (class toggled from App.jsx) */
body.no-scroll {
  overflow: hidden !important;
  height: 100vh !important;
}

/* App root */
.app-root { position: relative; z-index: 1; min-height: 100vh; display: flex; flex-direction: column; }

/* Header */
.site-header { padding: 10px 16px; }
.header-inner { display:flex; align-items:center; justify-content:space-between; gap:12px; max-width:1100px; margin:0 auto; }
.title-wrap { display:flex; align-items:center; gap:12px; }
.logo { width:64px; height:64px; object-fit:contain; background:#fff; padding:6px; border-radius:10px; box-shadow:0 6px 16px rgba(0,0,0,0.06); }

/* Main container */
.container { max-width:1100px; margin: 12px auto; padding: 12px; z-index:1; flex:1; }

/* Grid and cards */
.grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(240px,1fr)); gap:14px; }
.card { background:var(--card-bg); border-radius:12px; padding:12px; box-shadow:0 8px 20px rgba(20,40,20,0.06); display:flex; flex-direction:column; transition:transform .12s ease; }
.card:hover { transform:translateY(-6px); }
.image-wrap{ height:160px; overflow:hidden; border-radius:8px; }
.product-img{ width:100%; height:100%; object-fit:cover; }

/* Buttons */
.btn { padding:8px 12px; border-radius:8px; border: none; cursor: pointer; }
.btn-primary { background:var(--accent); color:#fff; box-shadow:0 8px 22px rgba(40,80,40,0.12); }

/* Floating cart button */
.cart-btn { position:fixed; right:14px; bottom:14px; background:var(--accent); color:#fff; padding:12px 14px; border-radius:999px; box-shadow:0 12px 30px rgba(20,40,20,0.18); z-index:10050; }
.badge { background:#fff; color:var(--accent); padding:2px 8px; border-radius:999px; margin-left:8px; font-weight:700; }

/* ===== Modal bottom sheet (quick add) =====
   Make sure sheet sits above drawer by giving it highest z-index.
*/
.modal-overlay {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: flex-end;     /* bottom sheet behavior */
  justify-content: center;
  background: rgba(0,0,0,0.28);
  z-index: 10150;            /* <-- higher than drawer */
}

.modal-card {
  background: #fff;
  width: 100%;
  max-width: 760px;
  border-radius: 12px 12px 0 0;
  padding: 12px;
  margin: 0 12px 12px;
  box-shadow: 0 -8px 30px rgba(0,0,0,0.12);
}

/* ===== Cart drawer =====
   Drawer is fixed to right, but lower z-index than modal sheet.
*/
.cart-drawer {
  position: fixed;
  inset: 0;                /* full-screen overlay (but pointer-events controlled) */
  display: flex;
  justify-content: flex-end;
  pointer-events: none;    /* default non-interactive unless open */
  z-index: 10000;          /* less than modal-overlay */
}
.cart-drawer.open { pointer-events: auto; } /* interactive only when open */

.cart-panel {
  pointer-events: auto;
  background: #fff;
  width: 360px;
  max-width: 92%;
  height: 100%;
  box-shadow: -8px 0 30px rgba(0,0,0,0.12);
  padding: 16px;
  overflow: auto;
  position: fixed;         /* fix to right edge */
  top: 0;
  right: 0;
  bottom: 0;
  z-index: 10001;
}

/* Ensure close button sits above keyboard/mobile UI */
.cart-panel .close-x, .modal-card .close-x {
  position: absolute; top: 8px; right: 10px;
  z-index: 11000; width:44px; height:44px; border-radius:8px;
  background: rgba(255,255,255,0.98); display:inline-flex; align-items:center; justify-content:center;
  box-shadow:0 6px 16px rgba(0,0,0,0.12); cursor:pointer;
}

/* Cart item visuals */
.cart-item { display:flex; gap:10px; align-items:center; padding:10px 0; border-bottom:1px dashed #eee; }
.cart-item img { width:64px; height:64px; object-fit:cover; border-radius:8px; }

/* Footer */
.site-footer { margin-top:18px; padding:18px; border-radius:10px; background:linear-gradient(180deg,#0f3a2b,#0d2c21); color:#fff; z-index:1; }
.footer-inner { display:flex; gap:20px; justify-content:space-between; align-items:flex-start; flex-wrap:wrap; max-width:1100px; margin:0 auto; }
.footer-left, .footer-mid, .footer-right { flex:1; min-width:200px; }
.social-icons a { color:#fff; font-size:16px; margin-right:12px; display:inline-block; text-decoration:none; }

/* small helpers */
.muted { color:#6b7a6b; }
.small { font-size:0.85rem; }

/* responsive */
@media (max-width:720px) {
  .grid { grid-template-columns:repeat(auto-fill,minmax(180px,1fr)); }
  .logo { width:56px; height:56px; }
  .cart-panel { width:100%; max-width:100%; }
}
